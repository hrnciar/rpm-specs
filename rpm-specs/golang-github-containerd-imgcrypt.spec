# Generated by go2rpm 1
%bcond_without check

# https://github.com/containerd/imgcrypt
%global goipath         github.com/containerd/imgcrypt
Version:                1.0.3

%gometa

%global common_description %{expand:
OCI Image Encryption Package.}

%global golicenses      LICENSE
%global godocs          README.md

Name:           %{goname}
Release:        1%{?dist}
Summary:        OCI Image Encryption Package

# Upstream license specification: Apache-2.0
License:        ASL 2.0
URL:            %{gourl}
Source0:        %{gosource}

BuildRequires:  golang(github.com/containerd/console)
BuildRequires:  golang(github.com/containerd/containerd)
BuildRequires:  golang(github.com/containerd/containerd/cio)
# BuildRequires:  golang(github.com/containerd/containerd/cmd/ctr/commands)
# BuildRequires:  golang(github.com/containerd/containerd/cmd/ctr/commands/content)
# BuildRequires:  golang(github.com/containerd/containerd/cmd/ctr/commands/events)
# BuildRequires:  golang(github.com/containerd/containerd/cmd/ctr/commands/install)
# BuildRequires:  golang(github.com/containerd/containerd/cmd/ctr/commands/leases)
# BuildRequires:  golang(github.com/containerd/containerd/cmd/ctr/commands/namespaces)
# BuildRequires:  golang(github.com/containerd/containerd/cmd/ctr/commands/plugins)
# BuildRequires:  golang(github.com/containerd/containerd/cmd/ctr/commands/pprof)
# BuildRequires:  golang(github.com/containerd/containerd/cmd/ctr/commands/shim)
# BuildRequires:  golang(github.com/containerd/containerd/cmd/ctr/commands/snapshots)
# BuildRequires:  golang(github.com/containerd/containerd/cmd/ctr/commands/tasks)
# BuildRequires:  golang(github.com/containerd/containerd/cmd/ctr/commands/version)
BuildRequires:  golang(github.com/containerd/containerd/containers)
BuildRequires:  golang(github.com/containerd/containerd/content)
BuildRequires:  golang(github.com/containerd/containerd/contrib/nvidia)
BuildRequires:  golang(github.com/containerd/containerd/defaults)
BuildRequires:  golang(github.com/containerd/containerd/diff)
BuildRequires:  golang(github.com/containerd/containerd/errdefs)
BuildRequires:  golang(github.com/containerd/containerd/images)
BuildRequires:  golang(github.com/containerd/containerd/images/archive)
BuildRequires:  golang(github.com/containerd/containerd/log)
BuildRequires:  golang(github.com/containerd/containerd/namespaces)
BuildRequires:  golang(github.com/containerd/containerd/oci)
BuildRequires:  golang(github.com/containerd/containerd/pkg/progress)
BuildRequires:  golang(github.com/containerd/containerd/pkg/seed)
BuildRequires:  golang(github.com/containerd/containerd/platforms)
BuildRequires:  golang(github.com/containerd/containerd/remotes)
BuildRequires:  golang(github.com/containerd/containerd/remotes/docker)
BuildRequires:  golang(github.com/containerd/containerd/version)
BuildRequires:  golang(github.com/containerd/typeurl)
BuildRequires:  golang(github.com/containers/ocicrypt)
BuildRequires:  golang(github.com/containers/ocicrypt/config)
BuildRequires:  golang(github.com/containers/ocicrypt/spec)
BuildRequires:  golang(github.com/containers/ocicrypt/utils)
BuildRequires:  golang(github.com/gogo/protobuf/proto)
BuildRequires:  golang(github.com/gogo/protobuf/types)
BuildRequires:  golang(github.com/opencontainers/go-digest)
BuildRequires:  golang(github.com/opencontainers/image-spec/specs-go)
BuildRequires:  golang(github.com/opencontainers/image-spec/specs-go/v1)
BuildRequires:  golang(github.com/opencontainers/runtime-spec/specs-go)
BuildRequires:  golang(github.com/pkg/errors)
BuildRequires:  golang(github.com/sirupsen/logrus)
BuildRequires:  golang(github.com/urfave/cli)
BuildRequires:  golang(golang.org/x/sync/errgroup)
BuildRequires:  golang(google.golang.org/grpc/grpclog)

%description
%{common_description}

%gopkg

%prep
%goprep
rm -rf cmd

%install
%gopkginstall

%if %{with check}
%check
%gocheck
%endif

%gopkgfiles

%changelog
* Fri Aug 21 20:47:20 CEST 2020 Robert-Andr√© Mauchin <zebob.m@gmail.com> - 1.0.3-1
- Initial package

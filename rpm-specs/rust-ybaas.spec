# Generated by rust2rpm 13
%bcond_without check
%global __cargo_skip_build 0

%global crate ybaas

Name:           rust-%{crate}
Version:        0.0.2
Release:        1%{?dist}
Summary:        Yubibomb as a service

# Upstream license specification: GPL-3.0
License:        GPLv3
URL:            https://crates.io/crates/ybaas
Source:         %{crates_source}

ExclusiveArch:  %{rust_arches}

BuildRequires:  rust-packaging

%global _description %{expand:
Don't you love when you accidentally tap your Yubikey when you have your IRC
client in focus and you send 987947 into Freenode? Want to be able to have that
experience without having to reach all the way over to your laptop's USB port?
Don't want the complexity of installing and using the yubibomb CLI tool? Now
you can use yubibomb as a service!}

%description %{_description}

%package     -n %{crate}
Summary:        %{summary}

%description -n %{crate} %{_description}

%files       -n %{crate}
%license LICENSE
%doc README.md CHANGELOG
%{_bindir}/ybaas

%prep
%autosetup -n %{crate}-%{version_no_tilde} -p1
%cargo_prep

%generate_buildrequires
%cargo_generate_buildrequires

%build
%cargo_build

%install
%cargo_install

%if %{with check}
%check
%cargo_test
%endif

%changelog
* Tue May 05 2020 Josh Stone <cuviper@gmail.com> - 0.0.2-1
- Update to 0.0.2

* Thu Feb 13 2020 Josh Stone <jistone@redhat.com> - 0.0.1-4
- Upgrade to warp 0.2

* Thu Jan 30 2020 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.1-3
- Rebuilt for https://fedoraproject.org/wiki/Fedora_32_Mass_Rebuild

* Fri Jul 26 2019 Fedora Release Engineering <releng@fedoraproject.org> - 0.0.1-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_31_Mass_Rebuild

* Thu Mar 14 2019 Igor Gnatenko <ignatenkobrain@fedoraproject.org> - 0.0.1-1
- Initial package

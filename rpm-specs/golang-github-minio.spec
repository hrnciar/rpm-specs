# Generated by go2rpm
%bcond_without check

# https://github.com/minio/minio-go
%global goipath         github.com/minio/minio-go
Version:                6.0.49

%gometa

%global common_description %{expand:
The MinIO Go Client SDK provides simple APIs to access any Amazon S3 compatible
object storage.}

%global golicenses      LICENSE NOTICE
%global godocs          docs examples CONTRIBUTING.md MAINTAINERS.md\\\
                        README.md README_zh_CN.md

Name:           %{goname}
Release:        1%{?dist}
Summary:        MinIO Client SDK for Go

# Upstream license specification: Apache-2.0
License:        ASL 2.0
URL:            %{gourl}
Source0:        %{gosource}

BuildRequires:  golang(github.com/minio/sha256-simd)
BuildRequires:  golang(github.com/mitchellh/go-homedir)
BuildRequires:  golang(golang.org/x/crypto/argon2)
BuildRequires:  golang(golang.org/x/net/http/httpguts)
BuildRequires:  golang(golang.org/x/net/publicsuffix)
BuildRequires:  golang(gopkg.in/ini.v1)

%description
%{common_description}

%gopkg

%prep
%goprep
# https://github.com/minio/minio-go/issues/1225
sed -i 's|parse %%%%%%%%:|parse "%%%%%%%%":|' pkg/credentials/iam_aws_test.go

%install
%gopkginstall

%if %{with check}
%check
# .: needs network
%gocheck -d .
%endif

%gopkgfiles

%changelog
* Mon Mar 9 2020 Steve Miller (copart) <code@rellims.com> - 6.0.49-1
- Bumped to upstream 6.0.49
- Resolves: #1803307

* Mon Feb 10 00:34:24 CET 2020 Robert-André Mauchin <zebob.m@gmail.com> - 6.0.47-1
- Update to 6.0.47

* Wed Jan 29 2020 Fedora Release Engineering <releng@fedoraproject.org> - 6.0.39-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_32_Mass_Rebuild

* Thu Oct 10 2019 Steve Miller (copart) <code@rellims.com> - 6.0.39-1
- Bumped to upstream 6.0.39
- Resolves: #1742745

* Sun Sep 29 2019 Steve Miller (copart) <code@rellims.com> - 6.0.37-1
- Bumped to upstream 6.0.37
- Resolves: #1742745

* Thu Jul 25 00:06:24 CEST 2019 Robert-André Mauchin <zebob.m@gmail.com> - 6.0.33-1
- Release 6.0.33

* Thu May 16 00:38:04 CEST 2019 Robert-André Mauchin <zebob.m@gmail.com> - 6.0.24-1
- Release 6.0.24

* Tue Apr 23 2019 Steve Miller (copart) <code@rellims.com> - 6.0.22-1
- Bumped upstream version, bug fix release

* Mon Feb 18 2019 Steve Miller (copart) <code@rellims.com> - 6.0.17-1
- Bumped upstream version, bug fix release

* Fri Feb 01 2019 Fedora Release Engineering <releng@fedoraproject.org> - 6.0.8-3
- Rebuilt for https://fedoraproject.org/wiki/Fedora_30_Mass_Rebuild

* Tue Oct 23 2018 Nicolas Mailhot <nim@fedoraproject.org> - 6.0.8-2
- redhat-rpm-config-123 triggers bugs in gosetup, remove it from Go spec files as it’s just an alias
- https://lists.fedoraproject.org/archives/list/devel@lists.fedoraproject.org/message/RWD5YATAYAFWKIDZBB7EB6N5DAO4ZKFM/

* Sun Oct 14 2018 Steve Miller (copart) <code@rellims.com> - 6.0.8-1
- Bumped upstream version, bug fix release

* Tue Jul 31 2018 Steve Miller (copart) <code@rellims.com> - 6.0.5-1
- Bumped upstream version, bug fix release

* Fri Jul 13 2018 Fedora Release Engineering <releng@fedoraproject.org> - 6.0.4-3
- Rebuilt for https://fedoraproject.org/wiki/Fedora_29_Mass_Rebuild

* Wed Jul 4 2018 Steve Miller (copart) <code@rellims.com> - 6.0.4-2
- Removed patch as the dependency golang-googlecode-net was updated

* Sun Jun 24 2018 Steve Miller (copart) <code@rellims.com> - 6.0.4-1
- Bumped upstream version, bug fix release

* Thu Jun 14 2018 Steve Miller (copart) <code@rellims.com> - 6.0.2-1
- First package for Fedora

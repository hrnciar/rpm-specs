# Generated by go2rpm
%bcond_without check

# https://github.com/aphistic/sweet
%global goipath         github.com/aphistic/sweet
Version:                0.3.0

%gometa

%global common_description %{expand:
Sweet is a pluggable test runner capable of hooking into standard Go tests. It
attempts to provide access to the standard Go test tool as close as possible
while adding support for test suites and plugins that can hook into test results
to add additional functionality.}

%global golicenses      LICENSE
%global godocs          README.md

Name:           %{goname}
Release:        2%{?dist}
Summary:        Pluggable test runner capable of hooking into standard go tests

License:        MIT
URL:            %{gourl}
Source0:        %{gosource}

BuildRequires:  golang(github.com/mgutz/ansi)
BuildRequires:  golang(github.com/sergi/go-diff/diffmatchpatch)
BuildRequires:  golang(golang.org/x/crypto/ssh/terminal)

%if %{with check}
# Tests
BuildRequires:  golang(github.com/onsi/gomega)
%endif

%description
%{common_description}

%gopkg

%prep
%goprep

%install
%gopkginstall

%if %{with check}
%check
# https://github.com/aphistic/sweet/issues/14
%gocheck -d failtests
%endif

%gopkgfiles

%changelog
* Tue Jan 28 2020 Fedora Release Engineering <releng@fedoraproject.org> - 0.3.0-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_32_Mass_Rebuild

* Mon Jan 27 03:06:25 CET 2020 Robert-André Mauchin <zebob.m@gmail.com> - 0.3.0-1
- Update to 0.3.0

* Thu Jul 25 2019 Fedora Release Engineering <releng@fedoraproject.org> - 0-0.2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_31_Mass_Rebuild

* Fri Apr 26 21:42:47 CEST 2019 Robert-André Mauchin <zebob.m@gmail.com> - 0-0.1.20190624git68e18ab
- Initial package

# Generated by go2rpm
# https://github.com/rs/zerolog/issues/163
%ifnarch %{ix86} %{arm}
%bcond_without check
%endif

# https://github.com/rs/zerolog
%global goipath         github.com/rs/zerolog
Version:                1.17.2

%gometa

%global common_description %{expand:
The Zerolog package provides a fast and simple logger dedicated to JSON output.

Zerolog's API is designed to provide both a great developer experience and
stunning performance. Its unique chaining API allows zerolog to write JSON (or
CBOR) log events by avoiding allocations and reflection.

Uber's zap library pioneered this approach. Zerolog is taking this concept to
the next level with a simpler to use API and even better performance.}

%global golicenses      LICENSE
%global godocs          README.md

Name:           %{goname}
Release:        2%{?dist}
Summary:        Zero allocation JSON logger

License:        MIT
URL:            %{gourl}
Source0:        %{gosource}

BuildRequires:  golang(github.com/coreos/go-systemd/journal)
BuildRequires:  golang(github.com/pkg/errors)
BuildRequires:  golang(github.com/rs/xid)
BuildRequires:  golang(github.com/zenazn/goji/web/mutil)
BuildRequires:  golang(golang.org/x/tools/go/loader)

%description
%{common_description}

%gopkg

%prep
%goprep

%install
%gopkginstall

%if %{with check}
%check
%gocheck
%endif

%gopkgfiles

%changelog
* Wed Jan 29 2020 Fedora Release Engineering <releng@fedoraproject.org> - 1.17.2-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_32_Mass_Rebuild

* Thu Jan 02 2020 Elliott Sales de Andrade <quantum.analyst@gmail.com> - 1.17.2-1
- Update to latest version

* Thu Jul 25 2019 Fedora Release Engineering <releng@fedoraproject.org> - 1.14.3-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_31_Mass_Rebuild

* Mon Apr 29 21:59:04 CEST 2019 Robert-Andr√© Mauchin <zebob.m@gmail.com> - 1.14.3-1
- Initial package

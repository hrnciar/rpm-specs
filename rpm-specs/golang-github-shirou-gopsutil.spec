# Generated by go2rpm
%bcond_without check

# https://github.com/shirou/gopsutil
%global goipath         github.com/shirou/gopsutil
Version:                2.20.6

%gometa

%global common_description %{expand:
This is a port of psutil (https://github.com/giampaolo/psutil). The challenge is
porting all psutil functions on some architectures.}

%global golicenses      LICENSE
%global godocs          README.rst windows_memo.rst

Name:           %{goname}
Release:        1%{?dist}
Summary:        Psutil for Go

License:        BSD
URL:            %{gourl}
Source0:        %{gosource}

BuildRequires:  golang(golang.org/x/sys/unix)

%if %{with check}
# Tests
BuildRequires:  golang(github.com/stretchr/testify/assert)
%endif

%description
%{common_description}

%gopkg

%prep
%goprep

%install
%gopkginstall

%if %{with check}
%check
# host: needs access to /var/run
# net: needs network
%gocheck -d cpu -d disk -d host -d net -d process
%endif

%gopkgfiles

%changelog
* Sun Aug 02 18:03:20 CEST 2020 Robert-André Mauchin <zebob.m@gmail.com> - 2.20.6-1
- Update to 2.20.6

* Mon Jul 27 2020 Fedora Release Engineering <releng@fedoraproject.org> - 2.19.6-3
- Rebuilt for https://fedoraproject.org/wiki/Fedora_33_Mass_Rebuild

* Wed Jan 29 2020 Fedora Release Engineering <releng@fedoraproject.org> - 2.19.6-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_32_Mass_Rebuild

* Thu Jul 25 00:36:08 CEST 2019 Robert-André Mauchin <zebob.m@gmail.com> - 2.19.6-1
- Release 2.19.6

* Sun May 12 18:09:03 CEST 2019 Robert-André Mauchin <zebob.m@gmail.com> - 2.19.05-1
- Release 2.19.05

* Tue Apr 02 15:42:16 CET 2019 Robert-André Mauchin <zebob.m@gmail.com> - 2.19.03-1
- Release 2.19.03 (#1694755)

* Sun Mar 17 2019 Robert-André Mauchin <zebob.m@gmail.com> - 2.19.02-1
- Release 2.19.02 (#1689419)

* Fri Feb 01 2019 Fedora Release Engineering <releng@fedoraproject.org> - 2.18.05-3
- Rebuilt for https://fedoraproject.org/wiki/Fedora_30_Mass_Rebuild

* Fri Jul 13 2018 Fedora Release Engineering <releng@fedoraproject.org> - 2.18.05-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_29_Mass_Rebuild

* Thu Jun 28 2018 Robert-André Mauchin <zebob.m@gmail.com> - 2.18.05-1
- Bump to 2.18.05

* Wed May 02 2018 Robert-André Mauchin <zebob.m@gmail.com> - 2.18.04-1
- First package for Fedora

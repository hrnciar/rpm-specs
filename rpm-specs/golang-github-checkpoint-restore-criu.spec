# Generated by go2rpm
%bcond_without check

# https://github.com/checkpoint-restore/go-criu
%global goipath         github.com/checkpoint-restore/go-criu
Version:                4.1.0

%gometa

%global goaltipaths     github.com/checkpoint-restore/go-criu/v4

%global common_description %{expand:
This repository provides Go bindings for CRIU. The code is based on the Go based
PHaul implementation from the CRIU repository. For easier inclusion into other
Go projects the CRIU Go bindings have been moved to this repository.

The Go bindings provide an easy way to use the CRIU RPC calls from Go without
the need to set up all the infrastructure to make the actual RPC connection to
CRIU.}

%global golicenses      LICENSE
%global godocs          README.md

Name:           %{goname}
Release:        1%{?dist}
Summary:        Go Bindings for CRIU

# Upstream license specification: Apache-2.0
License:        ASL 2.0
URL:            %{gourl}
Source0:        %{gosource}

BuildRequires:  golang(github.com/golang/protobuf/proto)
BuildRequires:  golang(github.com/thoas/go-funk)

%description
%{common_description}

%gopkg

%prep
%goprep

%install
%gopkginstall

%if %{with check}
%check
%gocheck
%endif

%gopkgfiles

%changelog
* Wed Sep 30 18:32:54 CEST 2020 Robert-André Mauchin <zebob.m@gmail.com> - 4.1.0-1
- Update to 4.1.0

* Mon Jul 27 2020 Fedora Release Engineering <releng@fedoraproject.org> - 4.0.2-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_33_Mass_Rebuild

* Fri Jul 24 22:38:10 CEST 2020 Robert-André Mauchin <zebob.m@gmail.com> - 4.0.2-1
- Update to 4.0.2

* Tue Jan 28 2020 Fedora Release Engineering <releng@fedoraproject.org> - 3.11-3
- Rebuilt for https://fedoraproject.org/wiki/Fedora_32_Mass_Rebuild

* Thu Jul 25 2019 Fedora Release Engineering <releng@fedoraproject.org> - 3.11-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_31_Mass_Rebuild

* Sat May 04 17:10:32 CEST 2019 Robert-André Mauchin <zebob.m@gmail.com> - 3.11-1
- Initial package

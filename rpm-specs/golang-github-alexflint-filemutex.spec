# Generated by go2rpm
%bcond_without check

# https://github.com/alexflint/go-filemutex
%global goipath         github.com/alexflint/go-filemutex
Version:                1.0.0

%gometa

%global common_description %{expand:
FileMutex is similar to sync.RWMutex, but also synchronizes across processes. On
Linux, OSX, and other POSIX systems it uses the flock system call. On windows it
uses the LockFileEx and UnlockFileEx system calls.}

%global golicenses      LICENSE
%global godocs          README.md

Name:           %{goname}
Release:        2%{?dist}
Summary:        Sync.Mutex working across processes

License:        MIT
URL:            %{gourl}
Source0:        %{gosource}

%if %{with check}
# Tests
BuildRequires:  golang(github.com/stretchr/testify/require)
%endif

%description
%{common_description}

%gopkg

%prep
%goprep

%install
%gopkginstall

%if %{with check}
%check
%gocheck
%endif

%gopkgfiles

%changelog
* Tue Jan 28 2020 Fedora Release Engineering <releng@fedoraproject.org> - 1.0.0-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_32_Mass_Rebuild

* Sun Jan 26 21:20:29 CET 2020 Robert-André Mauchin <zebob.m@gmail.com> - 1.0.0-1
- Update to 1.0.0

* Thu Jul 25 2019 Fedora Release Engineering <releng@fedoraproject.org> - 0-0.2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_31_Mass_Rebuild

* Sat May 04 23:40:24 CEST 2019 Robert-André Mauchin <zebob.m@gmail.com> - 0-0.1.20190627gitd358565
- Initial package

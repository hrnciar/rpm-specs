# Generated by go2rpm
%ifnarch %{ix86} %{arm}
%bcond_without check
%endif

# https://github.com/aliyun/alibaba-cloud-sdk-go
%global goipath         github.com/aliyun/alibaba-cloud-sdk-go
Version:                1.61.346

%gometa

%global common_description %{expand:
Alibaba Cloud SDK for Go allows you to access Alibaba Cloud services such as
Elastic Compute Service (ECS), Server Load Balancer (SLB), and CloudMonitor. You
can access Alibaba Cloud services without the need to handle API related tasks,
such as signing and constructing your requests.}

%global golicenses      LICENSE
%global godocs          docs CONTRIBUTING.md ChangeLog.txt README-CN.md\\\
                        README.md

Name:           %{goname}
Release:        3%{?dist}
Summary:        Alibaba cloud SDK for Go

# Upstream license specification: Apache-2.0
License:        ASL 2.0$
URL:            %{gourl}
Source0:        %{gosource}

BuildRequires:  golang(github.com/jmespath/go-jmespath)
BuildRequires:  golang(github.com/json-iterator/go)
BuildRequires:  golang(github.com/modern-go/reflect2)
BuildRequires:  golang(gopkg.in/ini.v1)

%if %{with check}
# Tests
BuildRequires:  golang(github.com/goji/httpauth)
BuildRequires:  golang(github.com/stretchr/testify/assert)
%endif

%description
%{common_description}

%gopkg

%prep
%goprep

%install
%gopkginstall

%if %{with check}
%check
# sdk/responses: error messages slightly modified
%gocheck -d integration \
         -d sdk/auth/credentials/providers \
         -d sdk/auth/signers \
         -d sdk/responses
%endif

%gopkgfiles

%changelog
* Fri Aug 21 18:54:19 CEST 2020 Robert-André Mauchin <zebob.m@gmail.com> - 1.61.346-3
- Fix FTBFS

* Mon Jul 27 2020 Fedora Release Engineering <releng@fedoraproject.org> - 1.61.346-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_33_Mass_Rebuild

* Thu Jul 23 14:36:55 CEST 2020 Robert-André Mauchin <zebob.m@gmail.com> - 1.61.346-1
- Update to 1.61.346

* Tue Jan 28 2020 Fedora Release Engineering <releng@fedoraproject.org> - 1.60.348-3
- Rebuilt for https://fedoraproject.org/wiki/Fedora_32_Mass_Rebuild

* Sun Jan 26 21:38:31 CET 2020 Robert-André Mauchin <zebob.m@gmail.com> - 1.60.348-1
- Update to 1.60.348

* Sun Aug 04 17:07:44 CEST 2019 Robert-André Mauchin <zebob.m@gmail.com> - 1.60.81-1
- Release 1.60.81 (#1733769)

* Thu Jul 25 2019 Fedora Release Engineering <releng@fedoraproject.org> - 1.58.7-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_31_Mass_Rebuild

* Mon Apr 29 17:21:27 CEST 2019 Robert-André Mauchin <zebob.m@gmail.com> - 1.58.7-1
- Initial package

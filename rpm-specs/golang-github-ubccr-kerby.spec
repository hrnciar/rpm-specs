# Generated by go2rpm 1
%bcond_without check

# https://github.com/ubccr/kerby
%global goipath         github.com/ubccr/kerby
%global commit          201a958fc4535b4528d245ae127de1fa141eb917

%gometa

%global common_description %{expand:
Go wrapper for Kerberos GSSAPI.}

%global golicenses      LICENSE
%global godocs          README.rst

Name:           %{goname}
Version:        0
Release:        0.1%{?dist}
Summary:        Go wrapper for Kerberos GSSAPI

# Upstream license specification: Apache-2.0
License:        ASL 2.0
URL:            %{gourl}
Source0:        %{gosource}

BuildRequires:  krb5-devel

%description
%{common_description}

%gopkg

%prep
%goprep

%install
%gopkginstall

%if %{with check}
%check
# The unit tests require KDC which is basically impossible to set up in
# rpm build environment. Let's just test that the example is buildable.
# This is actually a fairly non-trivial test as this library is interfacing
# krb5 C library.
%gobuild %{goipath}/cmd/kerby
%endif

%gopkgfiles

%changelog
* Mon Aug 24 2020 Ond≈ôej Budai <obudai@redhat.com> - 0-0.1.20200824git201a958
- Initial package


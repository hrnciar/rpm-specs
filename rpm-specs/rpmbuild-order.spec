# generated by cabal-rpm-2.0.2 --stream hackage
# https://fedoraproject.org/wiki/Packaging:Haskell

Name:           rpmbuild-order
Version:        0.3
Release:        3%{?dist}
Summary:        Order RPM packages by dependencies

License:        BSD
Url:            https://hackage.haskell.org/package/%{name}
# Begin cabal-rpm sources:
Source0:        https://hackage.haskell.org/package/%{name}-%{version}/%{name}-%{version}.tar.gz
# End cabal-rpm sources

# Begin cabal-rpm deps:
BuildRequires:  ghc-rpm-macros
BuildRequires:  ghc-Cabal-static
BuildRequires:  ghc-base-static
BuildRequires:  ghc-bytestring-static
BuildRequires:  ghc-containers-static
BuildRequires:  ghc-directory-static
BuildRequires:  ghc-fgl-static
BuildRequires:  ghc-filepath-static
BuildRequires:  ghc-optparse-applicative-static
BuildRequires:  ghc-process-static
BuildRequires:  ghc-simple-cmd-args-static
# End cabal-rpm deps

%description
The rpmbuild-order tool orders RPM packages by dependencies, so that they can
be built in the correct order. It does this by reading RPM package spec files
and then topologically sorts them according to their dependencies. The code
originates from cabal-sort by Henning Thielemann. It can also output the
ordered dependencies or reverse depends for one or more packages, provided all
the packages are checked out in neighboring directories. This is also useful
to see what packages are affected when a low-level package changes.


%prep
# Begin cabal-rpm setup:
%setup -q
# End cabal-rpm setup


%build
# Begin cabal-rpm build:
%ghc_bin_build
# End cabal-rpm build


%install
# Begin cabal-rpm install
%ghc_bin_install
# End cabal-rpm install

install -p -m 0644 -D %{name}.1 %{buildroot}%{_mandir}/man1/%{name}.1


%files
# Begin cabal-rpm files:
%license LICENSE
%doc ChangeLog.md README.md TODO
%{_bindir}/%{name}
# End cabal-rpm files
%{_mandir}/man1/%{name}.1*


%changelog
* Wed Feb 19 2020 Jens Petersen <petersen@redhat.com> - 0.3-3
- refresh to cabal-rpm-2.0.2

* Thu Jan 30 2020 Fedora Release Engineering <releng@fedoraproject.org> - 0.3-2
- Rebuilt for https://fedoraproject.org/wiki/Fedora_32_Mass_Rebuild

* Thu Oct 10 2019 Jens Petersen <petersen@redhat.com> - 0.3-1
- check package provides instead of rpms
- --lenient for rpmspec failures
- https://hackage.haskell.org/package/rpmbuild-order-0.3/changelog

* Thu Aug 01 2019 Jens Petersen <petersen@redhat.com> - 0.2.1-5
- rebuild

* Fri Jul 26 2019 Fedora Release Engineering <releng@fedoraproject.org> - 0.2.1-4
- Rebuilt for https://fedoraproject.org/wiki/Fedora_31_Mass_Rebuild

* Sat Feb 02 2019 Fedora Release Engineering <releng@fedoraproject.org> - 0.2.1-3
- Rebuilt for https://fedoraproject.org/wiki/Fedora_30_Mass_Rebuild

* Thu Oct 25 2018 Jens Petersen <petersen@redhat.com> - 0.2.1-2
- rebuild for static executable

* Fri Aug 17 2018 Jens Petersen <petersen@redhat.com> - 0.2.1-1
- update to 0.2
- add manpage

* Wed Jul 25 2018 Fedora Haskell SIG <haskell@lists.fedoraproject.org> - 0.1-1
- spec file generated by cabal-rpm-0.12.5
